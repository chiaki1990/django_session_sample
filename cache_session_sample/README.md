# django のキャッシュによるセッション

## そもそもこのセッションで何をするのか？？

> Django は、匿名のセッションをフルサポートしています。このセッションフレームワークを使えば、任意のデータを、サイトの訪問者ごとに保存し、取得することができます。データはサーバー側に保存され、クッキーの送受信によって抽象化します。クッキーには、データそのものではなくセッション ID が書かれています ( クッキーベースのバックエンド を使用しない限り)。

つまり、ユーザー毎に任意のデータを保存したり、取得する事ができるようになる。したがってユーザーのセッション認証、認可に関わる部分を担当するドキュメントではなくて、ユーザーのアクション等をどのようにしてデータとして管理するか？ってところがポイントとなる。

## キャッシュによるセッションはどのように使うのか？？

#### django ドキュメント

https://docs.djangoproject.com/ja/3.1/topics/http/sessions/#using-cached-sessions

#### キャッシュを使ったセッションを実装するには設定条件がある

まず、何も考えずに django を使っていくと DATABASE によるセッションになる。
ここに関しては特にセッションとかいじらなくても勝手に使用できる。それに対してキャッシュを使ったセッションってのは設定が必要ですよってことらしい。

手順
キャッシュの設定（キャッシュのドキュメント：https://docs.djangoproject.com/ja/3.1/topics/cache/）

以下のような感じでキャッシュのありかを設定するみたい。メモリでも、データベースでも、ファイルシステムでもローカルのメモリでも、どこでも自分の好きなように設定する。

```python
# settings.pyにてキャッシュの設定を行う
CACHES = {
    'default': {
        'BACKEND': 'django.core.cache.backends.memcached.MemcachedCache',
        'LOCATION': '127.0.0.1:11211',
    }
}
```

```python
# settings.pyにてセッションエンジンをキャッシュ使用を宣言する
SESSION_ENGINE = 'django.contrib.sessions.backends.cache'
```
